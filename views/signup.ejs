<%- include ("./parts/header.ejs") %>
<%- include ("./parts/navbar.ejs") %>

<div class="container text-center">
    <h1 class="mt-4 mb-3">Create an Account</h1>
    <form action="/signup" method="POST">
        <input type="text" class="form-control mb-2" name="username" placeholder="Username">
        <% let usernameError = validationErrors.find(err => err.param === 'username') %>
        <% if (usernameError) { %>
        <p class="alert alert-danger">
            <%= usernameError.msg %>
        </p>
        <% } %>
        <input type="email" class="form-control mb-2" name="email" placeholder="Email">
        <% let emailError = validationErrors.find(err => err.param === 'email') %>
        <% if (emailError) { %>
        <p class="alert alert-danger">
            <%= emailError.msg %>
        </p>
        <% } %>
        <input type="password" class="form-control mb-2" name="password" placeholder="Password">
        <% let passwordError = validationErrors.find(err => err.param === 'password') %>
        <% if (passwordError) { %>
        <p class="alert alert-danger">
            <%= passwordError.msg %>
        </p>
        <% } %>
        <input type="password" class="form-control mb-2" name="confirmPassword" placeholder="Confirm Password">
        <% let confirmPasswordError = validationErrors.find(err => err.param === 'confirmPassword') %>
        <% if (confirmPasswordError) { %>
        <p class="alert alert-danger">
            <%= confirmPasswordError.msg %>
        </p>
        <% } %>
        <input type="submit" value="Create Account" class="btn btn-primary">
    </form>
    <br>
    <% if (authError) { %>
    <p class="alert alert-danger">
        <%=authError %>
    </p>
    <% } %>
    <br>
    <div>
        Already have an account? <a href="/login">Login instead</a>
    </div>
</div>

<%- include ("./parts/footer.ejs") %>